import{g as y,m as f,c as m,o as d,a as n,l,t as a,j as o,d as e,R as b,s as c,F as N,v as $,h as w}from"./Cc6rWAc7.js";const A={class:"hover:bg-primary-200/40 dark:hover:bg-primary-800/20 p-4 cursor-pointer text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-800 [&:not(:last-child)]:border-b-0"},B={class:"font-medium text-primary-500 dark:text-primary-400"},I={key:0},j={class:"font-medium"},D={class:"font-medium"},G={class:"font-medium"},O={key:1},S={class:"font-medium"},T={class:"font-medium"},V={class:"font-medium"},F={key:2},L={class:"font-medium"},R={class:"font-medium"},C={key:3},E={class:"font-medium"},J={class:"font-medium"},M={key:4},q={class:"font-medium"},z={class:"font-medium"},H={key:5},K={class:"font-medium"},P={class:"font-medium"},Q={key:6},U={class:"font-medium"},W={class:"font-medium"},X={key:7},Y={class:"font-medium"},Z={class:"font-medium"},h={key:8},_={class:"font-medium"},tt={class:"font-medium"},et={class:"font-medium"},st={class:"text-sm text-gray-600/50 dark:text-gray-300/50"},nt={__name:"ActivityItem",props:["item"],setup(s){const p=y(()=>f().getGroupByID(s.item.groupID)),r=y(()=>p.value?.name),u=y(()=>{const i=s.item.data.cur||s.item.data.prev;if(!i)return"";if(i.type==="expense")return i.description;{if(i.data){const{payers:x,splitters:k}=JSON.parse(i.data);i.payers=x,i.splitters=k}const t=Object.keys(i.payers)?.[0],v=Object.values(i.payers)?.[0],g=Object.keys(i.splitters)?.[0];return`${p.value.members[t]?.name} ðŸ¡’ ${p.value.members[g]?.name} (${p.value.currency}${v})`}});return(i,t)=>(d(),m("div",A,[n("span",B,a(("useGroups"in i?i.useGroups:o(f))().getMemberName(s.item.groupID,s.item.by)||"Someone"),1),s.item.data.type==="update_currency"?(d(),m("span",I,[t[0]||(t[0]=e(" updated the group ",-1)),n("span",j,a(o(r)),1),t[1]||(t[1]=e("'s currency from ",-1)),n("span",D,a(s.item.data.prev),1),t[2]||(t[2]=e(" to ",-1)),n("span",G,a(s.item.data.cur),1),t[3]||(t[3]=e(". ",-1))])):l("",!0),s.item.data.type==="update_name"?(d(),m("span",O,[t[4]||(t[4]=e(" updated the group ",-1)),n("span",S,a(o(r)),1),t[5]||(t[5]=e("'s name from ",-1)),n("span",T,a(s.item.data.prev),1),t[6]||(t[6]=e(" to ",-1)),n("span",V,a(s.item.data.cur),1),t[7]||(t[7]=e(". ",-1))])):l("",!0),s.item.data.type==="update_transaction"&&s.item.data.cur?.type==="expense"?(d(),m("span",F,[t[8]||(t[8]=e(" updated the expense ",-1)),n("span",L,a(o(u)),1),t[9]||(t[9]=e(" in ",-1)),n("span",R,a(o(r)),1),t[10]||(t[10]=e(". ",-1))])):l("",!0),s.item.data.type==="update_transaction"&&s.item.data.cur?.type==="payment"?(d(),m("span",C,[t[11]||(t[11]=e(" updated the payment ",-1)),n("span",E,a(o(u)),1),t[12]||(t[12]=e(" in ",-1)),n("span",J,a(o(r)),1),t[13]||(t[13]=e(". ",-1))])):l("",!0),s.item.data.type==="delete_transaction"&&s.item.data.prev?.type==="expense"?(d(),m("span",M,[t[14]||(t[14]=e(" deleted the expense ",-1)),n("span",q,a(o(u)),1),t[15]||(t[15]=e(" in ",-1)),n("span",z,a(o(r)),1),t[16]||(t[16]=e(". ",-1))])):l("",!0),s.item.data.type==="delete_transaction"&&s.item.data.prev?.type==="payment"?(d(),m("span",H,[t[17]||(t[17]=e(" deleted the payment ",-1)),n("span",K,a(o(u)),1),t[18]||(t[18]=e(" in ",-1)),n("span",P,a(o(r)),1),t[19]||(t[19]=e(". ",-1))])):l("",!0),s.item.data.type==="create_transaction"&&s.item.data.cur?.type==="expense"?(d(),m("span",Q,[t[20]||(t[20]=e(" added an expense ",-1)),n("span",U,a(o(u)),1),t[21]||(t[21]=e(" in ",-1)),n("span",W,a(o(r)),1),t[22]||(t[22]=e(". ",-1))])):l("",!0),s.item.data.type==="create_transaction"&&s.item.data.cur?.type==="payment"?(d(),m("span",X,[t[23]||(t[23]=e(" recorded a payment ",-1)),n("span",Y,a(o(u)),1),t[24]||(t[24]=e(" in ",-1)),n("span",Z,a(o(r)),1),t[25]||(t[25]=e(". ",-1))])):l("",!0),s.item.data.type==="import_splitwise"?(d(),m("span",h,[t[26]||(t[26]=e(" imported ",-1)),n("span",_,a(s.item.data.members),1),t[27]||(t[27]=e(" members and ",-1)),n("span",tt,a(s.item.data.transactions),1),t[28]||(t[28]=e(" transactions from Splitwise in ",-1)),n("span",et,a(o(r)),1),t[29]||(t[29]=e(". ",-1))])):l("",!0),n("div",st,a(o(b).utc(s.item.created_at).fromNow()),1)]))}},at={class:"h-full flex flex-col"},ot={class:"flex-grow overflow-y-scroll"},dt={__name:"activity",setup(s){const p=c(f()).getAllActivity;return(r,u)=>{const i=nt;return d(),m("div",at,[u[0]||(u[0]=n("div",{class:"p-4 text-xl font-medium"},"Activity Logs",-1)),n("div",ot,[(d(!0),m(N,null,$(o(p),t=>(d(),w(i,{item:t},null,8,["item"]))),256))])])}}};export{dt as default};
