import{n as K,_ as Q}from"./DE4JkdZf.js";import{_ as W}from"./D9lDmfE0.js";import{_ as X}from"./BvpYaeG7.js";import{_ as Z,b as ee,c as oe,d as te,e as ne,f as le,g as se,a as ae}from"./Lriy-5Vd.js";import{a as ue,_ as re}from"./BifDo8Tx.js";import{r,s as ie,m as w,z as de,g as pe,p as me,q as fe,c as D,h as S,l as U,b as o,j as n,a as s,t as _e,w as l,F as h,v as ce,i as _,o as c,d as $}from"./Cc6rWAc7.js";import"./Bz0dQahS.js";import"./Cz1uVIEK.js";import"./DlAUqK2U.js";import"./uIxbp4OT.js";import"./BZqG9IWk.js";import"./CdOn_Ylr.js";import"./CcMkvVwY.js";const ve=ne(se),ge={key:1,class:"flex flex-col gap-2 h-full px-2"},xe={class:"h-12 flex justify-between items-center gap-2"},ye={class:"text-center font-medium text-lg"},Ve={class:"py-1 overflow-y-scroll"},ke={key:0},Ce={class:"w-full flex text-center gap-2"},we={class:"flex-grow"},De={class:"flex-grow"},$e={class:"space-y-1 py-1"},Ee={class:"flex justify-between items-center"},Ue={class:"flex gap-2"},Ye={__name:"[[group_id]]",setup(Ie){const p=r(!1),m=r(!1),f=r(!1),v=r(!1),i=r(!1),y=r({hello:""}),V=r(null),E=r(null),{getGroupByID:I,loading:k,getGroupedTransactionsByGroupID:A}=ie(w()),d=de(),C=pe(()=>I.value(d));me(k,()=>{b()}),fe(()=>{b()});function b(){!k.value&&!C.value&&K(null)}function G(a){w().addTransaction(d,a),g()}function B(a){w().updateTransaction(d,a),g()}function N(a){V.value=a,a.type==="expense"?p.value=!0:m.value=!0}function g(){p.value=!1,m.value=!1,V.value=null,y.value={hello:""}}function T(a){E.value=a,i.value=!0}function R(){w().deleteTransaction(d,E.value.id),i.value=!1,g()}function j(){i.value=!1,E.value=null}return(a,e)=>{const q=Q,u=W,M=X,P=Z,Y=ae,F=ee,x=ue,L=oe,O=ve,z=te,H=le,J=re;return c(),D(h,null,[n(k)?(c(),S(q,{key:0,height:"h-full"})):U("",!0),!n(k)&&n(C)?(c(),D("div",ge,[s("div",xe,[o(u,{to:"/app/groups",icon:"i-heroicons-arrow-left",variant:"ghost",color:"gray",square:""}),s("span",ye,_e(n(I)(n(d))?.name),1),s("div",null,[o(u,{icon:"i-heroicons-chart-bar",variant:"ghost",color:"gray",onClick:e[0]||(e[0]=t=>v.value=!0)}),o(u,{onClick:e[1]||(e[1]=t=>f.value=!0),icon:"i-heroicons-cog-6-tooth",variant:"ghost",color:"gray"})])]),s("div",Ve,[n(C)&&!n(C).myID?(c(),D("div",ke,[o(M,{variant:"soft",color:"primary",description:"You don't have a member assigned in this group.",actions:[{click(){f.value=!0},variant:"solid",label:"Assign Member"}]},null,8,["actions"])])):U("",!0),o(P,{groupID:n(d)},null,8,["groupID"]),s("div",Ce,[s("div",we,[o(u,{onClick:e[2]||(e[2]=t=>p.value=!0),block:""},{default:l(()=>[...e[13]||(e[13]=[$("Add Expense",-1)])]),_:1})]),s("div",De,[o(u,{onClick:e[3]||(e[3]=t=>m.value=!0),block:"",variant:"outline"},{default:l(()=>[...e[14]||(e[14]=[$("Record Payment",-1)])]),_:1})])]),s("div",$e,[(c(!0),D(h,null,ce(n(A)(n(d)),t=>(c(),S(Y,{onEdit:N,group:t},null,8,["group"]))),256))])])])):U("",!0),o(x,{"prevent-close":"",modelValue:n(m),"onUpdate:modelValue":e[5]||(e[5]=t=>_(m)?m.value=t:null)},{default:l(()=>[o(F,{modelValue:n(y),"onUpdate:modelValue":e[4]||(e[4]=t=>_(y)?y.value=t:null),expenseItem:n(V),onUpdate:B,onRecord:G,onClose:g,onDelete:T},null,8,["modelValue","expenseItem"])]),_:1},8,["modelValue"]),o(x,{"prevent-close":"",modelValue:n(p),"onUpdate:modelValue":e[6]||(e[6]=t=>_(p)?p.value=t:null)},{default:l(()=>[o(L,{expenseItem:n(V),onUpdate:B,onAdd:G,onClose:g,onDelete:T},null,8,["expenseItem"])]),_:1},8,["modelValue"]),o(x,{modelValue:n(v),"onUpdate:modelValue":e[8]||(e[8]=t=>_(v)?v.value=t:null)},{default:l(()=>[o(z,null,{default:l(()=>[o(O,{onClose:e[7]||(e[7]=t=>v.value=!1)})]),_:1})]),_:1},8,["modelValue"]),o(x,{modelValue:n(f),"onUpdate:modelValue":e[10]||(e[10]=t=>_(f)?f.value=t:null)},{default:l(()=>[o(H,{onClose:e[9]||(e[9]=t=>f.value=!1)})]),_:1},8,["modelValue"]),o(x,{modelValue:n(i),"onUpdate:modelValue":e[12]||(e[12]=t=>_(i)?i.value=t:null)},{default:l(()=>[o(J,null,{header:l(()=>[s("div",Ee,[e[15]||(e[15]=s("span",{class:"font-medium"},"Delete Expense",-1)),o(u,{onClick:e[11]||(e[11]=t=>i.value=!1),variant:"ghost",color:"gray",icon:"i-heroicons-x-mark"})])]),footer:l(()=>[s("div",Ue,[o(u,{onClick:R,color:"rose",variant:"outline"},{default:l(()=>[...e[16]||(e[16]=[$("Yes, delete",-1)])]),_:1}),o(u,{onClick:j,variant:"ghost"},{default:l(()=>[...e[17]||(e[17]=[$("Cancel",-1)])]),_:1})])]),default:l(()=>[e[18]||(e[18]=s("div",{class:"space-y-2"},"Are you sure you want to delete this expense?",-1))]),_:1})]),_:1},8,["modelValue"])],64)}}};export{Ye as default};
